{% extends "base.html" %}

{% load staticfiles %}

{% block styles %}
<link rel="stylesheet" type="text/css" href="static/css/welcome.css" />
{% endblock %}

{% block scripts %}
<script type="text/javascript">
$(document).ready(function() {
    $('submit.primary-btn').click(function(e) {
	var username = $('#signin-email'), password = $('#signin-password');
	if (isEmpty(username)) {
	    username.focus();
	    username.tooltip('show');
	    return false;
	}
	if (isEmpty(password)) {
	    password.focus();
	    password.tooltip('show');
	    return false;
	}
	// $.ajax({
	//     data: $('#signin-form').serialize(),
	//     url: '/member/login/',
	//     type: 'post',
	//     success: function(response) {
	// 	if (response.success) {
	// 	    $('location').href = '/home';
	// 	} else {
	// 	    var msg = $('.alert').remove();
	// 	    $('.front-card').before('<div class="alert hide signin-alert">' + response.error
	// 				    + '<button type="button" class="close" data-dismiss="alert">×</button>'
	// 				    + '</div>');
	// 	    $('.alert').show();
	// 	}
	//     }
	// });
		   
	// return false to prevent submit.
	return $('#sigin-form').submit();
    });
});
</script>
{% endblock %}

{% block page %}

<div id="page">
  <div id="welcome-container" class="front-container">
    <div class="front-bg">
      <!-- <img class="front-image" src="static/images/bg-mountain.jpg"></img> -->
    </div>
    <div class="alert hide signin-alert">
      <span>Something happed.</span>
      <button type="button" class="close" data-dismiss="alert">×</button>
    </div>
    <div class="front-card">
      <div class="front-welcome">
	<div class="front-welcome-text">
	  <h1>Welcome to Curve.</h1>
	  <p>Make it easier to collaborate with friends, colleagues or any associates.</p>
	</div>
	<div id="login" class="front-signin">
	  <form id="signin-form" action="/member/login/" class="signin" method="post">
	    {% csrf_token %}
	    <div class="username">
	      <input type="text" id="signin-email" name="username" class="text-input email-input" placeholder="Username or email" data-toggle="tooltip" data-container="body" data-title="Username or email can not be empty.">
		<!-- <label for="signin-email" class="placeholder">Username or email</label> -->
	      </input>
	    </div>

	    <table class="flex-table password-signin">
	      <tbody>
		<tr>
		  <td class="flex-table-primary">
		    <div class="password flex-table-form">
		      <input id="signin-password" name="password" type="password" class="text-input flex-table-input" placeholder="Password" data-toggle="tooltip" data-container="body" data-title="Password can not be empty.">
			<!--  <label for="signin-password" class="placeholder">Password</label> -->
		      </input>
		    </div>
		  </td>
		  <td class="flex-table-secondary">
		    <!-- <button type="submit" class="submit btn primary-btn flex-table-btn js-submit">Sign in</button> -->
		    <button type="submit" class="submit btn primary-btn flex-table-btn js-submit">Sign in</button>
		  </td>
		</tr>
	      </tbody>
	    </table>
	    <div class="remember-forgot">
	      <label class="remember">
		<input type="checkbox" name="rem" value="1">
		  <span>Remember me</span>
		</input>
	      </label>
	      <span class="separator">&nbsp;</span>
	      <a class="forgot" href="/member/forgot_password">Forgot password?</a>
	    </div>
	  </form>
	</div>

	<div id="signup" class="front-signup">
	  <h2><strong>New to Curve?</strong>Sign up</h2>
	  <form action="/member/signup" class="signup" method="post">
	    <div class="placeholding-input">
	      <input type="text" class="text-input" placeholder="Full name"></input>
	    </div>
	    <div class="placeholding-input">
	      <input type="text" class="text-input" placeholder="Email"></input>
	    </div>
	    <div class="placeholding-input">
	      <input type="password" class="text-input" placeholder="Password"></input>
	    </div>
	    <button type="submit" class="btn signup-btn">Sign up for Curve</button>
	  </form>
	</div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
